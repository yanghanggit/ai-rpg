# 桃花源村落子场景 提示词生成方法论

## 核心原则

从代码中的场景描述（`StageProfile`）生成图像提示词：

- **输入**：name（场景名）+ profile（文字描述）
- **输出**：正向提示词 + 负向提示词

---

## 固定参数

- **尺寸**：1080 x 1920（竖屏）
- **模型**：nano-banana
- **风格**：中国传统水墨画

---

## 提示词模板

### 正向提示词（7段式）

```text
中国传统水墨画风格融合[室内/室外]场景写实，竖幅构图，纯背景插画艺术作品。
桃花源村落的[场景名称]，[建筑描述]。
[墙面、屋顶、地板、门窗材质]。
[主要物品陈设及排列方式]。
[光源和装饰物]，营造[氛围感受]。
水墨晕染技法，[色调]，笔触[风格特点]。
前景[近处物品]，中景[整体空间]，背景[远处虚化]。画面氛围[形容词]，但不出现人物。纯粹的背景艺术，无任何文字、标题、按钮或界面元素。
```

### 负向提示词（通用）

```text
人物，人脸，角色，村民，现代元素，现代建筑，玻璃窗，鲜艳色彩，卡通风格，动漫，照片写实，西方建筑，构图杂乱，文字，汉字，英文字母，标志，logo，标题，游戏标题，按钮，UI界面，游戏界面，START，PLAY，框架，边框，装饰框，红框，过度饱和，油画质感
```

---

## 生成步骤

1. **读取 profile**：提取建筑、物品、氛围关键词
2. **判断类型**：室内还是室外
3. **填充模板**：把关键词填入7段式结构
4. **添加尾缀**：固定加上"不出现人物"和"无UI元素"

---

## 关键原则

- ✅ **直接描述物品**：写"墙上悬挂武器"，不写"猎人正在整备"
- ✅ **静态陈设**：写"摆放整齐"，不写"正在使用"
- ✅ **明确排除**：必须加"不出现人物"和"无UI元素"
- ✅ **简单直接**：从 profile 直接提取，不过度推理

---

## 参考

- 代码实现：`src/ai_rpg/demo/stage_village.py`
- 村落全景：`桃花源村庄概念美术提示词.md`
