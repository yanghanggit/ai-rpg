# 桃花源村落子场景 提示词生成方法论

## 核心原则

从代码中的场景描述（`StageProfile`）生成图像提示词：

- **输入**：name（场景名）+ profile（文字描述）
- **输出**：正向提示词 + 负向提示词

---

## 固定参数

- **尺寸**：768 x 1344（竖屏 9:16）
- **生成模型**：Gemini 2.5 Flash Image (nano-banana)
- **模型特点**：专为速度和效率设计，支持中文提示词，原生 1K 分辨率输出
- **艺术风格**：像素游戏风格
- **支持语言**：中文 (zh-CN)、英语等多语言
- **推理步数**：4
- **引导比例**：7.5
- **视角要求**：平视或略微仰视角度，角色站立的视角高度，地平线在画面中上部

---

## 视角控制原则

**必须避免：**

- ❌ 俯瞰视角（从上往下看）
- ❌ 鸟瞰图
- ❌ 平面布局图
- ❌ 地图视角

**推荐使用：**

- ✅ 平视角度（水平视线）
- ✅ 略微仰视角度（地平线在画面中上部）
- ✅ 角色站立的视角高度
- ✅ 第一人称或第三人称游戏视角

---

## 提示词模板

### 正向提示词（7段式）

**室内场景专用：**

```text
像素艺术风格，16位复古游戏美术，竖幅构图，纯背景插画艺术作品，完全室内视角。
桃花源小规模猎人村落的[场景名称],村落级别的单体木构建筑,像素化的[建筑描述],低矮木屋内部,纯室内场景。
像素化的[木板墙、木梁木柱、茅草或木板屋顶、木地板、简单木门窗],精致木工工艺但保持村落规模,单层或低矮空间,封闭的室内空间,四周墙壁,完整屋顶。
像素化的[主要物品陈设及排列方式],实用简朴的木质家具陈设,村落生活用品,清晰的像素轮廓。
像素[简单光源如油灯火把蜡烛和实用装饰物],营造[氛围感受]。
经典像素艺术技法,使用有限的色板,以像素化的方式表现室内空间层次,[色调描述],小规模村落级别的精致木构风格。
前景[近处像素物品],中景[整体空间],背景[室内木墙/屋顶]。画面氛围[形容词],但不出现人物。竖向像素游戏背景构图,建筑和物品像素化刻画精细,完全室内视角,不显示外部景色。小规模村落民居,低矮精致木构的乡村建筑内部,非城镇建筑。纯粹的像素背景艺术,无任何文字、标题、按钮或界面元素。16位像素艺术风格,复古游戏美学,竖向构图。
```

**室外场景专用：**

```text
像素艺术风格，16位复古游戏美术，竖幅构图，纯背景插画艺术作品，平视角度。
桃花源小规模猎人村落的[场景名称],村落级别的小聚落,像素化的[低矮精致木构建筑描述],角色站立的视角高度。
像素化的[木板外墙、木柱木梁、茅草或木板屋顶、简单木门窗],精致的木工工艺但保持村落规模,单层或低矮两层,小体量建筑。
像素化的[主要环境元素描述,如木栅栏、木板桥、木制平台],小规模村落田园氛围,清晰的像素轮廓。
像素[自然光源和简朴实用装饰物],营造[氛围感受]。
经典像素艺术技法,使用有限的色板,以像素化的方式表现空间层次,[色调描述],小规模村落级别的精致木构风格。
前景[近处地面细节],中景[主体空间/低矮木构建筑],背景[远处像素化虚化效果/远山/天空],地平线在画面中上部。画面氛围[形容词],但不出现人物。竖向像素游戏背景构图,环境像素化刻画精细,平视或略微仰视角度,非俯瞰视角。小规模村落场景,低矮精致木构的乡村建筑,非城镇规模。纯粹的像素背景艺术,无任何文字、标题、按钮或界面元素。16位像素艺术风格,复古游戏美学,竖向构图。
```

### 负向提示词（通用）

```text
人物，人脸，角色，村民，现代元素，现代建筑，玻璃窗，3D渲染，照片写实，高清，抗锯齿，平滑，模糊，渐变，油画，水彩，水墨画，素描，手绘，卡通风格，动漫，西方建筑，构图杂乱，文字，汉字，英文字母，标志，logo，标题，游戏标题，按钮，UI界面，游戏界面，START，PLAY，框架，边框，装饰框，红框，过度饱和，柔和边缘，圆滑，城镇，城市，宏伟建筑，多层建筑，高楼，城楼，城墙，宫殿，庙宇，飞檐斗拱，华丽装饰，精致雕刻，复杂屋顶，建筑群，密集建筑，城市化，豪华，grand architecture，palace，temple，urban
```

**室内场景额外负向提示词：**

```text
天空，云朵，户外，外部景色，窗外景色，桃花林，树木，山脉，开放空间
```

**视角控制负向提示词（室外场景必须添加）：**

```text
bird's eye view, overhead view, top-down view, map view, isometric view, floor plan, layout diagram, aerial perspective, looking down from above, 俯瞰视角, 鸟瞰图, 平面布局图, 地图视角, 等轴测视角, 从上往下看, 鸟瞰透视, 俯视图
```

---

## 📋 Nano-Banana 模型支持的所有尺寸

**Gemini 2.5 Flash Image (nano-banana)** 支持以下宽高比和对应分辨率：

| 宽高比 | 分辨率 (像素) | Token 消耗 | 适用场景 |
| ------ | ------------- | ---------- | -------- |
| **1:1** | 1024 x 1024 | 1290 | 正方形，社交媒体、头像、图标 |
| **2:3** | 832 x 1248 | 1290 | 竖屏，手机壁纸、竖版海报 |
| **3:2** | 1248 x 832 | 1290 | 横屏，传统摄影比例 |
| **3:4** | 864 x 1184 | 1290 | 竖屏，海报、宣传册 |
| **4:3** | 1184 x 864 | 1290 | 横屏，传统显示器比例 |
| **4:5** | 896 x 1152 | 1290 | 竖屏，Instagram 帖子 |
| **5:4** | 1152 x 896 | 1290 | 横屏，经典显示器比例 |
| **9:16** | 768 x 1344 | 1290 | 竖屏，手机全屏、Stories、短视频 |
| **16:9** | 1344 x 768 | 1290 | 横屏，宽屏视频、桌面壁纸 |
| **21:9** | 1536 x 672 | 1290 | 超宽屏，电影比例、超宽显示器 |

**说明：**

- 所有尺寸的 Token 消耗相同（1290 tokens）
- 默认分辨率等级：1K（1024 像素级别）
- 图片格式：PNG（自动添加 SynthID 水印）
- 推荐使用原生支持的宽高比以获得最佳效果
- 如不指定宽高比，默认生成 1:1 正方形图片
