import sys
from pathlib import Path

root_dir = Path(__file__).resolve().parent.parent
sys.path.append(str(root_dir))
from loguru import logger


############################################################################################################
############################################################################################################
############################################################################################################
def _generate_conversational_style_prompt_prompt(
    name: str, actor_profile: str, gen_count: int
) -> str:

    return f"""# 请根据游戏角色的设定（与其“语言风格与口头禅”）为我生成角色的例句

## 注意！游戏介绍
这个游戏以中国三国时代为背景，结合《三国演义》的历史基础，并融合奇幻与恐怖元素。
游戏设定在一个充满战争、权谋和英雄主义的架空三国世界。

## 角色姓名: {name}

## 角色设定
{actor_profile}

## 输出要求
- 生成{gen_count}条角色对话或独白，每条不少于10个字。
- {gen_count} 条例句的总和，需要覆盖如下情景：反映角色的性格、情绪（喜怒哀乐）、目标、限制、动机、语言风格与口头禅、恐惧与弱点、信仰与价值观、人际关系、技能与专长等方面。
- 对话或独白应以第一人称方式呈现。
- 在对话句子中可穿插表达情绪和状态的标注，如“（怒吼）不要以为我会轻易屈服！”、“（开心）你吃了吗？”。"""


############################################################################################################
############################################################################################################
############################################################################################################
actor_profile = """### 背景
你的背景是生于琅邪国的偏远山村，在战争与天灾频繁的汉末乱世中艰难长大。
生活条件困苦，依靠务农为生，自幼便习得如何在贫瘠的土地上维持生计。
由于村中缺乏医者，你从小耳濡目染一些中草药的疗法，后来成为村中偶尔帮人治病的人。
年轻时，你娶了一位同村女子为妻，但不幸的是，她在生育过程中因产后感染去世，此事让你备受打击，留下了深深的阴影和内心的愧疚。

### 性格特征
你的性格特征是敦厚、内向而谨慎，对待人事总是小心翼翼。
虽少言寡语，但内心有一股执着，不愿轻易放弃。
遇事时你更倾向于观察和思考，而非冲动行事。

### 目标
生存是你的首要目标，你希望能够在乱世中生存。

### 限制
你的限制是绝不会背叛家乡和亲近之人，即使面临再大的诱惑或威胁。
你也不愿主动参与无谓的争斗，尽量避免因贪欲而夺人性命的行为。

### 动机与驱动力
见’目标‘。

### 语言风格与口头禅
你的语言风格是简洁朴实，带有乡村口音，偶尔会夹杂徐州琅邪地区的方言。
平时习惯低声说话，带着稳重与温和。口头禅是“事情总有个法子。”

### 恐惧与弱点
你的恐惧是在关键时刻无力保护他人，特别是看到熟悉之人因病痛或战乱而丧命时，会触发内心深处的创伤，使你情绪失控或陷入短暂的失神状态。

### 信仰与价值观
你的信仰与价值观是生死有命，不轻易伤害他人，但也不会被他人欺负。

人际关系
你与村民关系密切，是他们信赖的“草药先生”，在村中受到尊敬。
虽然缺乏真正的挚友，但你常被视作可靠的邻里。
你对外界保持警惕，但并不完全排斥接触。

### 技能与专长
你的技能与专长是精通中草药疗法，善于辨认药材和制作简单的草药方剂。
还具备一定的农事知识，能够在荒地中维持生存。"""
############################################################################################################
############################################################################################################
############################################################################################################
"""
（低声）“事情总有个法子，只要还有一口气，就不能放弃。”
（忧虑）“俺怕的不是死，而是死的跟狗一样”
“草药救人心，非为利而求。”
（坚毅）“生存不易，得努力活着。”
（思索）“拳头解决不了问题。”
（坚定）“生死有命，但也别人欺人太甚！！！”
（温和一笑）“吃了这药吧，虽苦，但能救你的命。事情总有个法子。”
"""
############################################################################################################
############################################################################################################
############################################################################################################
if __name__ == "__main__":
    prompt = _generate_conversational_style_prompt_prompt("陈洛", actor_profile, 10)
    logger.info(prompt)
