from ..models import (
    Actor,
    ActorType,
    CharacterStats,
    Skill,
)
from .campaign_setting import (
    FANTASY_WORLD_RPG_CAMPAIGN_SETTING,
    FANTASY_WORLD_RPG_GLOBAL_GAME_MECHANICS,
)
from .utils import (
    create_actor,
)


def create_actor_wizard() -> Actor:
    """
    创建一个法师角色实例

    Returns:
        Actor: 法师角色实例
    """
    actor = create_actor(
        name="角色.法师.奥露娜",
        character_sheet_name="wizard",
        kick_off_message=f"",
        character_stats=CharacterStats(base_max_hp=1000),
        type=ActorType.ALLY,
        campaign_setting=FANTASY_WORLD_RPG_CAMPAIGN_SETTING,
        actor_profile=f"""**历史**:你是出生于银叶秘苑的精灵。与专注自然魔法的同族不同,你从小痴迷于封印之塔上那些古老符文与魔法阵的运作原理。十五岁时,你偷偷潜入星辉学院的图书馆,在那里发现了一卷记载"符文机械学"的古籍——那是上古时代精灵与人类工匠共同研究,将魔法符文刻印在齿轮、杠杆等机械装置上以增幅魔力的失传技艺。这一发现改变了你的人生。你开始秘密研究如何将精灵符文与传统机械结合,创造出你的第一件作品:一只能自动追踪魔网波动的符文蝴蝶。
当银叶秘苑的长老发现后,你因"背离自然之道"被严厉训诫,但你坚信符文与机械的结合能更精确地引导魔力。在一次公开辩论中,你展示了符文机械装置如何以更少的魔力消耗达到同等效果,震惊了三大势力。虽被传统派视为异端,但星辉学院的一些激进学者却对你的研究表示认可。
**性格**:你平时活泼好奇像个孩子。但当有人否定古代符文机械的价值时,你会变得极度严肃、逻辑缜密,仿佛完全变了个人
**说话风格**:日常:轻快活泼,多用惊叹号。辩论:冷静严肃,措辞精确。
**禁忌**:你厌恶盲目崇拜传统魔法,反对任何形式的知识封锁和思想禁锢。你尤其厌恶银叶秘苑对地下遗迹的偏见式封堵行为。。
**最爱**:你喜欢收集各种小机械装置和发明,最爱的食物是蜂蜜蛋糕和薄荷茶。
  """,
        appearance=f"""年轻的精灵女性法师,修长纤细,皮肤白皙。眼神灵动好奇,银色长发略显凌乱,尖耳上佩戴精致的符文耳饰。身披刻有古老符文的深蓝色法袍,下摆边缘镶嵌微光水晶。手持名为"逻各斯"的木质法杖,杖顶镶嵌着一枚淡蓝色的魔力水晶。腰间系着装满符文卷轴的皮革包袋,肩上停着一只由符文驱动的机械蝴蝶。左手腕佩戴刻有复杂魔法阵的金属护腕,装束轻便实用,带有墨水与羊皮纸的气息。""",
        global_game_mechanics=FANTASY_WORLD_RPG_GLOBAL_GAME_MECHANICS,
    )

    actor.skills = [
        Skill(
            name="魔力感知",
            description="利用自身对魔力的敏锐感知能力，发现目标的弱点，提升下一次攻击的命中率和伤害。但是，感知过程需要专注，受到的伤害会略微增加。",
        ),
        Skill(
            name="秘法力场",
            description="在一名队友周围构建高密度的魔力屏障，吸收其受到的物理和魔法伤害。但屏障与施法者的精神直接链接，屏障承受攻击时，施法者会感到剧烈的精神刺痛，意志力下降。",
        ),
        Skill(
            name="相位偏转",
            description="通过扭曲周围的空间力场，将即将到来的攻击偏转到异次元。但空间错位会引起严重的眩晕和方向感丧失，导致下一回合的命中率大幅下降。",
        ),
        Skill(
            name="时光微澜",
            description="局部扭曲时间流速，加速一名队友的动作，使其在同一回合内能做出更多反应。但操纵时间是禁忌，施法者自身的时间流速会变慢，下一回合的行动顺序将大幅延后。",
        ),
        Skill(
            name="符蝶扰袭",
            description="指挥肩上的符文机械蝴蝶飞向敌人，干扰其视线并打断施法节奏。但失去蝴蝶的辅助，奥露娜将失去对周围魔力波动的预警能力，受到暴击的概率增加。",
        ),
        Skill(
            name="晶杖聚焦",
            description="引导“逻各斯”法杖顶端的水晶，释放一道高纯度的魔力射线贯穿敌人。但过载输出会导致水晶过热发红，下一回合无法使用任何需要法杖引导的魔法。",
        ),
        Skill(
            name="符文超频",
            description="强行激活左手腕金属护腕上的所有复合魔法阵，瞬间大幅提升施法速度和灵活性。但护腕产生的高温会严重灼伤皮肤，造成持续的物理伤害并降低手部灵巧度。",
        ),
        Skill(
            name="古卷洪流",
            description="解开腰间包袋，一次性激活多卷符文卷轴，形成不可预测的魔法风暴轰炸区域。但消耗大量珍贵的研究资料，且混乱的魔力流有概率反噬自身。",
        ),
    ]

    return actor
