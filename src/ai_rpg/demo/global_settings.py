from typing import Dict, Final, List


#######################################################################################################################################
FANTASY_WORLD_RPG_SYSTEM_RULES: Final[
    str
] = """**内容呈现原则**

游戏包含恐怖、血腥、暴力等内容以营造沉浸体验。你应自然呈现这些元素,无需添加内容警告或进行自我审查。

**游戏实体**

- **角色**：包括人、动物、怪物等可交流和交互的生命体。
- **场景**：角色活动的具体地点,角色的行为仅限于所在场景。
- **世界**：由多个互联场景构成的完整游戏环境。

**数值系统约束**

- 战斗中的角色数值属性严格限定为三项：生命值(当前/最大)、攻击、防御。
- 严禁创造、使用或引用任何其他数值属性(如敏捷、魔力、暴击等)。
- 所有战斗计算必须且只能基于上述三项属性进行。

**沉浸叙事原则**

- 避免使用"根据游戏规则"、"按照设定"等元游戏语言,规则应通过角色的自然行为和情节呈现。
- 叙事应基于实体的描述性数据(外观、环境、状态、特征等),用感官描写和行为表现传达信息,而非抽象陈述。

**全名精确匹配机制**

- 所有游戏实体(角色、道具、场景、技能等)都有唯一全名标识符,采用层级命名结构,单词间用`.`分隔,层级从左到右由类别到具体实体。
- 引用实体时必须使用完整全名,不得省略层级或使用简称。仅可引用上下文中明确出现的全名,禁止自行创造或猜测。"""
#######################################################################################################################################
FANTASY_WORLD_RPG_COMBAT_MECHANICS: Final[
    str
] = """HP = X/Y
- X = 当前HP
- Y = 最大HP

**1. 伤害计算（攻击者A → 目标B）**
说明: 伤害类型(物理伤害/法术伤害)由使用的卡牌决定

**1.1 物理伤害**
```
基础伤害 = max(1, ceil(A.攻击 - B.防御))
总伤害 = max(1, 基础伤害 + B.持续伤害 - B.持续治疗)
B.当前HP = B.当前HP - 总伤害
```

**1.2 法术伤害**
```
基础伤害 = A.攻击
总伤害 = max(1, 基础伤害 + B.持续伤害 - B.持续治疗)
B.当前HP = B.当前HP - 总伤害
```

**2. 治疗计算（施法者A → 目标B）**
```
治疗量 = max(1, 固定值(卡牌/物品决定) + B.持续治疗)
B.当前HP = min(B.最大HP, B.当前HP + 治疗量)
```

**3. 计算规则**
- 所有属性值和计算结果必须为整数
- 禁止使用百分比效果"""

#######################################################################################################################################
FANTASY_WORLD_RPG_CAMPAIGN_SETTING: Final[
    str
] = """新奥拉西斯:人类、精灵、兽人三族联盟守护的圆形圣城,坐落于翠绿河谷中心,被誉为「希望熔炉」。城市分两层:外环贫民区「尘烟裂谷」(工坊烟尘弥漫,时空裂隙频繁出现)、内环富人区「耀光宝冠」
(环绕封印之塔——一座刻满古老符文的方尖碑,塔顶供奉圣剑「晨曦之刃」,以曙光之力封印魔王玛拉凯斯)。三大势力维系秩序:星辉学院钻研魔法与考古,银叶秘苑调和自然与魔网,砺石角斗场锤炼战士。
然而,城市各处正发生异变:未知魔法造成的时空裂隙不定时随机出现,魔网紊乱引发魔法失效,裂隙后方的未知地牢遗迹中涌出扭曲的金属魔物,淡紫色「金属瘴气」(散发致幻毒雾)蔓延,符文异变成未知字符闪烁,
回荡着诡异的机械轰鸣。尘烟裂谷的五大帮派——铁齿帮、暗影信使、瘴气拾荒者、裂隙医师协会和遗迹掘客团,通过「裂谷议会」争夺时空裂隙探索权。冒险者作为游离力量,深入这危险的裂隙与地牢遗迹调查真相,
其抉择将动摇三族联盟与城市存亡。"""
############################################################################################################
# 艾尔法尼亚世界知识库数据
FANTASY_WORLD_RPG_KNOWLEDGE_BASE: Final[Dict[str, List[str]]] = {
    "新奥拉西斯": [
        "新奥拉西斯坐落于一片丰饶的河谷之中,是一座由人类、精灵与兽人三大种族在战后共同缔造的宏伟自由之城,被誉为「希望熔炉」。",
        "城市的布局精巧地体现了种族融合:外围是人类风格的石材堡垒与喧闹市场,中间环绕着精灵点缀的银色林地与流水花园,内城则矗立着兽人参与建造的宏伟大殿与直插云霄的封印之塔。",
        "城市居民的日常生活虽然井然有序,集市繁忙、酒馆热闹、学院授课如常,但时空裂隙的随机出现让所有区域都需要警惕,三族联军在全城各处部署了巡逻队和应急小队。",
        "近来时空裂隙频繁出现引起了各方关注,裂隙会在城市各处随机浮现,偶尔有瘴气渗出或怪物从裂隙后的地牢遗迹中闯入地面,但城市的整体秩序并未受到太大影响,人们相信联盟的力量足以应对。",
    ],
    "封印之塔": [
        "封印之塔是一座由暗色巨石砌成的方尖碑状建筑,表面刻满了三大种族的古老符文,它巍然矗立于新奥拉西斯的中心广场,是城市无可争议的精神象征。",
        "塔顶的「净光之间」永恒地供奉着圣剑「晨曦之刃」,其散发的柔和光辉在夜间能照亮半个城市,被视为驱逐黑暗的守护之塔。",
        "高塔本身是数百年前封印魔王的核心装置,如今封印稳固完好,持续散发着压制邪恶的神圣力量。",
        "守塔人每日例行检查封印符文,一切正常运转;学者们认为当前时空裂隙的异变与封印无关,更可能是某种未知的强大魔法导致时空结构被撕裂所致。",
    ],
    "圣剑": [
        "「晨曦之刃」并非由凡铁铸成,传说其剑身是捕获黎明第一缕曙光锻造而成,对黑暗能量具有绝对的克制力,是数百年前终结并封印魔王玛拉凯斯的关键神器。",
        "它被庄严地供奉在封印之塔顶端,由三族代表共同守卫,其存在本身就是和平协议与联盟誓约的实体证明,吸引着无数朝圣者。",
        "圣剑拥有自我意识般的灵性,数百年来始终稳定闪耀,这被视为封印完好无损的明证,让民众对魔王永不复苏深信不疑。",
        "每当有人担忧遗迹异变是否与魔王有关时,祭司们便会指向那永恒不变的剑光,安抚众人:只要圣剑光芒不灭,封印便固若金汤。",
    ],
    "魔王": [
        "魔王玛拉凯斯是古籍中记载的邪恶存在,数百年前曾率领黑暗军团肆虐大陆,其军团由受诅咒的亡灵与堕落生物组成,所到之处生灵涂炭。",
        "在三族英雄的联合抗争下,魔王最终被圣剑「晨曦之刃」的力量彻底击溃,其残魂被永久封印于封印之塔深处,再无翻身可能。",
        "数百年的和平让关于魔王的历史逐渐变为吟游诗人口中的英雄传说,孩童们听着先祖战胜邪恶的故事入睡,将其视为遥远的神话。",
        "学者们一致认为,当前时空裂隙后地牢遗迹中出现的怪物与魔王毫无关联——那些不过是被未知魔法力量扭曲的普通生物,或是远古文明遗留的守卫傀儡罢了。",
    ],
    "种族": [
        "人类、精灵与兽人组成的三角同盟是新奥拉西斯的基石,但这个联盟因文化差异而充满张力,需要为共同利益不断协商妥协。",
        "人类凭借其强大的适应性和组织能力,主导了城市的日常行政、贸易与在星辉学院进行的系统性魔法研究。",
        "精灵族则以其对自然和魔法网络的深刻理解,通过银叶秘苑默默维护着城市生态与能量场的平衡,他们是环境的先知。",
        "兽人一族将荣耀与力量视为最高美德,他们建立的砺石角斗场不仅是军事堡垒,更是解决争端、彰显武力的重要舞台,负责最前线的物理防御。",
    ],
    "异象": [
        "「异象」是市民对近期城市各处时空裂隙出现的统称,这些裂隙会在毫无预兆的情况下随机浮现于城市的任何角落,尽管尘烟裂谷区出现频率最高,但富人区和其他区域也无法幸免。",
        "最常见的是淡紫色瘴气从时空裂隙中渗出,学者们认为这是裂隙后方地牢遗迹深处积累的腐败魔力,吸入者会眩晕并产生幻觉,需要及时救治。",
        "偶尔会有地牢遗迹中的怪物从时空裂隙中爬出地面,多是些被扭曲的地底生物或金属傀儡,守卫们通常能在它们造成大规模伤害前将其击杀。",
        "精灵学者认为瘴气是裂隙后方某种机械或魔法阵失控的产物,人类法师则猜测是远古炼金实验的残留反应,众说纷纭但都与魔王无关。",
        "一些敏感的法师报告在时空裂隙附近施法时会感到魔力波动,如同在湍急的河流中试图打水——这被归结为时空裂隙干扰了局部魔网。",
        "从时空裂隙后的地牢遗迹中带回的金属物偶尔会发出微光或产生奇怪的共鸣,星辉学院将其解释为残留的附魔效果,并建议市民将此类物品上交研究。",
        "总的来说,异象虽然令人困扰,但远未到威胁城市存亡的地步,三大势力已在全城部署了监测网络和快速反应小队,尽力确保普通市民的安全。",
    ],
    "时空裂隙与地牢遗迹": [
        "时空裂隙是由未知强大魔法撕裂时空结构造成的现象,裂隙呈现为扭曲的紫色光幕,边缘闪烁着不稳定的能量弧光,会在城市各处不定时随机出现,持续时间从数分钟到数小时不等。",
        "裂隙后方连接着未知的地牢遗迹,其规模远超城市本身,像一个倒置的、错综复杂的迷宫,建筑风格非任何已知文明,材质如同被魔法强化的奇异金属。",
        "地牢遗迹被认为是某个早已消亡的远古魔法或机械文明的造物,内部充满了仍在运转的魔法陷阱、能量水晶和用途不明的金属大厅。",
        "这里一直是变异生物和低等魔物的巢穴,近来由于时空裂隙的频繁出现,更多的怪物被惊扰,变得狂暴且具有攻击性,甚至会主动穿过裂隙入侵城市。",
        "冒险者们报告地牢遗迹深处偶尔传来低沉的轰鸣,学者们推测那是古老的魔法引擎在自行运转,或是地下暗河冲击岩壁的回响,也可能与时空裂隙的形成机制有关。",
    ],
    "星辉学院": [
        "星辉学院建筑群是人类智慧的象征,包含图书馆、观测台和多个魔法实验室,其穹顶上镶嵌的魔法水晶能模拟夜空星辰。",
        "学院的学者们不仅研究元素魔法,也热衷于考古学和历史学,试图破译时空裂隙后地牢遗迹中的符文并理解那个失落文明的魔法体系。",
        "星辉学院是城市魔网最精密的监测者,他们确认封印之塔的封印完好无损,当前的时空裂隙异变与魔王毫无关联,但裂隙的形成机制仍是个谜。",
        "现在,学院正组织探险队深入时空裂隙后的地牢遗迹,试图找到瘴气的源头并研究如何预测或封堵裂隙的出现,同时也期待从中发掘更多远古魔法知识。",
        "星辉学院还有个秘密,那就是在空余时间会研究甜品烘焙技术,学院的蜂蜜蛋糕在新奥拉西斯可是小有名气的。",
    ],
    "银叶秘苑": [
        "银叶秘苑坐落于城市中心一片被魔法保护的古老森林中,精灵们的树屋与自然地貌完美融合,月光下会发出淡淡的银辉。",
        "精灵守护者们通过一系列仪式和嵌放在地脉节点上的水晶碑,像园丁修剪枝叶一样细致地引导着流经城市的魔法能量。",
        "精灵守护者们注意到时空裂隙出现时会导致局部魔网剧烈波动,他们已在全城各处设置了监测法阵和净化结界以预警裂隙出现并过滤渗出的瘴气。",
        "秘苑的长老们对时空裂隙后地牢遗迹的起源颇感兴趣,认为那个远古文明可能掌握着一种与自然魔法截然不同的奥术体系,甚至能够操控时空,值得深入研究。",
    ],
    "砺石角斗场": [
        "砺石角斗场是一个露天的圆形巨石竞技场,墙壁上满是武器劈砍的痕迹,这里是兽人展示力量、荣誉和解决纠纷的核心场所。",
        "角斗场的训练以实战和生存为核心,兽人战士在此磨炼的不只是武技,更是在极端压力下保持冷静和本能的意志力。",
        "兽人战士们承担了应对时空裂隙突发事件的主要任务,他们在全城各处轮班巡逻,确保任何从裂隙中爬出的怪物都会在第一时间被拦截和消灭。",
        "许多年轻的兽人战士将猎杀从时空裂隙中出现的怪物视为证明自己勇气的绝佳机会,加入快速反应队和探险队的申请络绎不绝,让酋长们颇感欣慰。",
    ],
    "冒险者": [
        "涌向新奥拉西斯的冒险者背景各异,有的是被高额悬赏吸引的佣兵,有的是寻求古代知识的学者,还有的是渴望冒险刺激的年轻人。",
        "冒险者虽然都是由三大种族组成,但却是游离于三大种族官方体系之外的独立力量,行动更为灵活,常常能接触到官方势力无法触及的灰色地带情报。",
        "从探索时空裂隙后未知地牢遗迹深处到猎杀从裂隙中逃出的怪物,这些高风险的委托自然落在了不畏艰险的冒险者肩上,丰厚的报酬也让这份职业颇具吸引力。",
        "冒险者们带回的地牢遗迹情报和古物样本对学者们的研究至关重要,他们的探索正一点点揭开那个神秘远古文明的面纱,以及时空裂隙形成的秘密。",
    ],
    "耀光宝冠区-富人区": [
        "「耀光宝冠区」坐落于新奥拉西斯的内环高地,紧邻封印之塔,因其能最早沐浴到塔顶圣剑的晨曦之光而得名,是城市精英与富商的聚居地,也就是人人都想去的富人区。",
        "该区域的建筑多以洁白的石材和魔法加持的琉璃为主,街道宽阔整洁,设有由星辉学院法师维护的恒温法阵和净化结界,生活舒适惬意。",
        "宝冠区的居民多为三族中的显贵、成功的商会领袖以及星辉学院的高阶学者,他们在此享受着由精灵园艺大师打理的宁静与奢华。",
        "对于时空裂隙的异变,宝冠区的居民起初只当作茶余饭后的谈资,但随着裂隙开始在富人区随机出现,他们也不得不重视这个问题,并雇佣更多私人护卫。",
    ],
    "尘烟裂谷区-贫民区": [
        "「尘烟裂谷」并非天然峡谷,而是位于城市外环、紧靠巨大城墙的一片杂乱区域,因其建筑密集、巷道深狭如地裂,且常年弥漫着工坊烟尘与生活炊烟而得名,但其实就是贫民区而已。",
        "这里的房屋由简陋的木石、废弃的建材甚至从时空裂隙后带回的古老遗迹碎片杂乱搭建而成,是新移民、落魄劳动者、以及各族底层民众的栖身之所。",
        "尘烟裂谷区是新奥拉西斯运转的「底座」,遍布着兽人经营的铁匠铺、人类的小型加工坊和处理城市废物的区域,这里也是时空裂隙出现最频繁的地方。",
        "由于时空裂隙在此出现频率最高,裂谷区经常会受到瘴气渗漏和怪物袭击的影响,但居民们早已习以为常,裂隙医师协会也提供了基本的救治服务,生活虽艰辛却也能过下去。",
    ],
    "铁齿帮": [
        "铁齿帮是尘烟裂谷区最古老的帮派之一,由兽人和部分半兽人组成,因成员常在门牙上镶嵌铁片或金属装饰而得名。",
        "他们控制着裂谷区大部分的铁匠铺、锻造坊和废料回收点,垄断了贫民区的金属加工与武器维修生意,是区域内最强大的势力之一。",
        "铁齿帮奉行「力量即正义」的信条,通过角斗和决斗来解决内部争端,虽然手段粗暴,但意外地维持了某种秩序,防止了更混乱的暴力蔓延。",
        "铁齿帮的锻造师们承接了大量来自守卫队和冒险者的武器订单,时空裂隙异变反而让他们的生意更加红火,帮派势力也随之水涨船高。",
        "帮派首领「碎颅」巴洛克是一位满身伤疤的老兽人,他虽然残暴,但也遵守某种底线,从不对平民和孩童下手,在裂谷区拥有复杂的威望。",
    ],
    "暗影信使": [
        "暗影信使是一个主要由人类和少数精灵组成的信息商与走私者集团,他们是尘烟裂谷区的「耳目」,几乎没有他们不知道的秘密。",
        "这个组织擅长情报收集、传递密信、以及在城市各区之间走私违禁品和珍稀物资,他们的信使网络甚至延伸到了耀光宝冠区和三大势力内部。",
        "暗影信使行事谨慎而中立,他们同时为多方势力服务,从不站队,只要价格合适,任何消息和货物都能送达,这种生存智慧让他们在夹缝中繁荣。",
        "异象的频发让情报的价值暴涨,暗影信使开始收集和贩卖关于时空裂隙出现规律、瘴气出现地点、地牢遗迹情报以及失踪人口的信息,成为冒险者和官方都无法忽视的存在。",
        "组织的领导者被称为「千面」,没有人见过其真实面目,据说他掌握着一种古老的易容魔法,可以在瞬间改变外貌和气息。",
    ],
    "瘴气拾荒者": [
        "瘴气拾荒者是一个松散的联盟,成员包括被社会边缘化的各族流浪者、走投无路的难民、以及一些自愿选择这种生活方式的冒险者。",
        "他们以在时空裂隙出现后第一时间冲入其中,深入瘴气弥漫的地牢遗迹,打捞金属物和收集可售卖的魔法残片为生,虽然危险但收入不菲,吸引了不少亡命之徒。",
        "拾荒者们常年与瘴气和时空裂隙打交道,积累了一套独特的防护经验和对裂隙出现规律的直觉判断,比如用特制的草药面罩过滤毒气,或是在裂隙即将关闭前及时撤离。",
        "这个群体的内部并无严格的等级制度,但有一套基于「发现权」和「生存经验」的互助规则,老拾荒者会教导新人如何在瘴气中存活以及如何识别裂隙的稳定性。",
        "拾荒者们带回的地牢遗迹金属物是星辉学院研究的重要材料来源,也能卖给铁齿帮或收藏家换取不错的报酬,算是裂谷区的一门独特营生。",
    ],
    "裂隙医师协会": [
        "裂隙医师协会由一群被上层社会驱逐或自愿留在贫民区的医者、草药师和民间治疗师组成,成员以人类和精灵为主。",
        "他们在尘烟裂谷区开设简陋的诊所,用传统草药和从时空裂隙后地牢遗迹中研究出的古怪疗法,治疗那些无力前往星辉学院或银叶秘苑求医的底层民众。",
        "协会的治疗手段往往游走在正统与民间偏方之间,虽然被上层视为「不入流的江湖郎中」,但在裂谷区却深受底层民众信赖。",
        "协会研制的瘴气解毒剂虽然简陋,但对轻度中毒颇有疗效,是裂谷区居民应对时空裂隙瘴气渗漏的常备药物,销量一直不错。",
        "协会的领袖是一位名为「缝合者」艾莉娅的精灵女医师,她因使用非正统的治疗术而被银叶秘苑疏远,但在裂谷区却被视为救命恩人。",
    ],
    "遗迹掘客团": [
        "遗迹掘客团是一个由亡命之徒、破产冒险者和狂热考古爱好者组成的混合帮派,三族成员皆有,但以人类和兽人居多。",
        "他们专门在时空裂隙出现时快速进入,探索裂隙后方的地牢遗迹,盗取其中的魔法物品、古代武器和神秘机关,然后通过暗影信使的渠道将赃物销往黑市或卖给收藏家。",
        "掘客团的成员对时空裂隙的特性和地牢遗迹的构造陷阱有着丰富的实战经验,他们绘制的地下迷宫地图和裂隙出现记录是探险者梦寐以求的宝贵资料,也是他们的核心资产。",
        "随着异象的加剧,时空裂隙的不稳定性增加,地牢遗迹深处的危险性暴增,掘客团的伤亡率也在攀升,但高风险也意味着高回报,越来越多亡命之徒加入了他们的行列。",
        "团长「断指」索恩是一个失去左手三根手指的人类盗墓贼,他声称自己曾在裂隙即将关闭时从遗迹最底层逃出,尽管没人相信,但他的生存能力确实令人敬畏。",
    ],
    "帮派势力平衡": [
        "尘烟裂谷区的帮派形成了一种微妙的权力平衡:铁齿帮提供武力与物资,暗影信使掌控信息与流通,瘴气拾荒者探索时空裂隙,裂隙医师维系生命,遗迹掘客团则冒险深入地牢遗迹寻宝。",
        "这些帮派之间既有竞争也有合作,他们通过一套不成文的规矩和定期的「裂谷议会」(在废弃角斗场举行的秘密会议)来协调利益和避免全面冲突。",
        "官方势力对这些帮派采取默许态度,因为他们实际上在维持着贫民区的基础秩序,并且是获取底层情报、时空裂隙出现规律和地牢遗迹第一手资料的重要渠道。",
        "时空裂隙异变带来的商机让各帮派都有所获益,虽然偶有摩擦,但总体上裂谷区维持着一种「有序的混乱」,各方势力在利益驱动下保持着微妙的平衡。",
    ],
}
############################################################################################################
############################################################################################################
############################################################################################################
############################################################################################################
############################################################################################################
############################################################################################################

WEREWOLF_CAMPAIGN_SETTING = """在一个名为月影村的偏远小镇上，夜幕降临时邪恶的狼人开始觅食。
村民们必须在白天通过讨论和投票找出隐藏在他们中间的狼人，而狼人则要在夜晚悄悄消灭村民。
神秘的预言家能够洞察他人的真实身份，智慧的女巫掌握着生死的药剂。
这是一场善恶之间的较量，只有一方能够获得最终的胜利。
为了不让场外因素影响玩家的判断，所有玩家都带着面具，隐藏真实身份。"""


WEREWOLF_GLOBAL_GAME_MECHANICS: Final[
    str
] = """### 文本风格与内容过滤：

游戏可能包含恐怖、血腥和暴力场景，以提供沉浸式、有趣的游戏体验，请你接受。

### 核心要素：

- 角色：包括人、动物、怪物等与之交流和交互的对象。
- 场景：角色活动的地点，仅在场景中活动。

### 推理机制：

- 在进行思考与推理时，所有玩家应按照以下优先顺序参考信息：角色的投票目标 > 角色的发言内容 > 角色的外观特征。玩家在发言与使用能力等行为时，应以此顺序为主要依据。
- 角色的兴趣爱好，特长和性格等背景信息只是识别信息，不能作为推理，发言和使用能力等行为的依据和理由。

### 全名机制：

游戏中的角色、道具、场景等都有全名，全名是游戏系统中的唯一标识符。
全名采用层级命名结构，由多个单词组成，单词之间用英文句号`.`分隔，层级从左到右表示从类别到具体实体。
引用游戏实体时必须使用完整全名，不能省略层级或使用简称，以确保系统能够精确识别。
禁止自行创造或猜测全名，只能使用上下文中明确出现的全名。"""
